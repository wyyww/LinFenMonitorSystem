<div class="sidebar-inner scrollable-sidebar">
    <ul class="breadcrumb">
        <li><span class="primary-font"><i class="icon-home"></i></span><a href="#/page.html">用户管理</a></li>
    </ul>
    <div class="row">
        <div class="col-lg-1 col-md-1 col-lg-offset-11 col-md-offset-11">
            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">新增</button>
        </div>
    </div>

    <table class="table table-striped" id="dataTable">
        <thead class="row">
        <tr>
            <th class="col-md-3 col-sm-3 showWay">
                <!-- Split button -->
                <div class="btn-group">
                    <a class="inline-block" style="width:80px">用户名</a>
                    <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">正序</a></li>
                        <li><a href="#">倒序</a></li>
                        <li role="separator" class="divider"></li>
                        <li>列</li>
                    </ul>
                </div>
            </th>
            <th class="col-md-3 col-sm-3 showWay">
                <div class="btn-group">
                    <a class="inline-block" style="width:80px">姓名</a>
                    <a class=" dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">正序</a></li>
                        <li><a href="#">倒序</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">列</a></li>
                    </ul>
                </div>
            </th>
            <th class="col-md-3 col-sm-3 showWay">
                <div class="btn-group">
                    <a class="inline-block" style="width:80px">部门</a>
                    <a class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">正序</a></li>
                        <li><a href="#">倒序</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">列</a></li>
                    </ul>
                </div>
            </th>
            <th class="col-md-3 col-sm-3 showWay">
                <div class="btn-group">
                    <a class="inline-block" style="width:80px">操作</a>
                    <a class=" dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="#">正序</a></li>
                        <li><a href="#">倒序</a></li>
                        <li role="separator" class="divider"></li>
                        <li><a href="#">列</a></li>
                    </ul>
                </div>
            </th>
        </tr>
        </thead>

        <tbody>
        <!--<tr ng-repeat="message in messages | filter:{name:isname,isHave:(isState=='状态查询'?'':isState)} | limitTo: isPage:(initialPage-1)*isPage ">-->
        <tr ng-repeat="message in messages">
            <td ng-click="md()" class="col-md-3 col-sm-3 showWay">{{message.username}}</td>
            <td ng-click="md()" class="col-md-3 col-sm-3 showWay">{{message.name}}</td>
            <td ng-click="md()" class="col-md-3 col-sm-3 showWay">{{message.orgName}}</td>
            <td class="col-md-3 col-sm-3 showWay">
                <button type="button" class="btn btn-info btn-xs" ng-click="userManagementGetAlter(message.id)">修改</button>

                <button type="button" class="btn btn-danger btn-xs" data-toggle="modal" data-target="#myModal1">删除</button>

                <!--修改用户 模态框-->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                                <h6 class="modal-title" id="myModalLabel">修改用户</h6>
                            </div>
                            <div class="modal-body">
                                <div class="input-group">
                                    <span class="input-group-addon">用户名</span>
                                    <input type="text" class="form-control" ng-model="theMessages.username">
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon">姓名</span>
                                    <input type="text" class="form-control" ng-model="theMessages.name">
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon">部门</span>
                                    <select name="" class="form-control" ng-model="theMessages.organization.id"  ng-options="department.id as department.name for department in departments">
                                    </select>
                                </div>
                                <div class="input-group"  ng-class="{'has-success ':ispassword==password}">
                                    <span class="input-group-addon">密码</span>
                                    <input type="password" class="form-control" ng-model="ispassword" >
                                </div>
                                <div class="input-group" ng-class="{'has-success ':ispassword==password,
				                    'has-error  ':ispassword!=password}">
                                    <span class="input-group-addon">确认密码</span>
                                    <input type="password" class="form-control" ng-model="password" >
                                </div>
                                <div class="input-group">
                                    <span class="input-group-addon">角色</span>
                                    <select name="" class="form-control" ng-model="theMessages.role.id" ng-options="role.id as role.name for role in roles">
                                    </select>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-primary"  data-dismiss="modal" ng-click="userManagementUpdateAlter(message.id)">确定</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--删除的模态框-->
                <div class="modal fade bs-example-modal-sm" id="myModal1" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
                    <div class="modal-dialog modal-sm" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                        aria-hidden="true">&times;</span></button>
                            </div>
                            <div class="modal-body">
                                <div class="input-group">
                                    <span>确认删除此数据</span>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary" data-dismiss="modal">取消</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal" ng-model="message.id" ng-click="userManagementDelete(message.id)">确定</button>
                            </div>
                        </div>
                    </div>
                </div>
            </td>
        </tr>
        </tbody>
    </table>

    <!--添加的模态框-->
    <div class="modal fade bs-example-modal-lg" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                                aria-hidden="true">&times;</span></button>
                        <h6 class="modal-title">新增用户</h6>
                    </div>
                    <div class="modal-body">
                        <form name="userManagement" novalidate>
                            <div class="input-group">
                                <span class="input-group-addon">用户名</span>
                                <input type="text" name="userName" class="form-control" ng-model="userAdd.username" required/>
                                <span style="color:red" ng-show="userManagement.userName.$invalid&&userManagement.$submitted">
                                     <span ng-show="userManagement.userName.$error.required">用户名是必须填写的。</span>
                                 </span>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">姓名</span>
                                <input type="text" name="name" class="form-control" ng-model="userAdd.name" required />
                                <span style="color:red" ng-show="userManagement.name.$invalid&&userManagement.$submitted">
                                     <span ng-show="userManagement.name.$error.required">姓名是必须填写的。</span>
                                 </span>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">部门</span>
                                <select name="" class="form-control" ng-model="userAdd.orgId"  ng-options="department.id as department.name for department in departments">
                                </select>
                            </div>
                            <div class="input-group" ng-class="{'has-success ':newpassword==userAdd.password}">
                                <span class="input-group-addon">密码</span>
                                <input type="password" name="newpassword" class="form-control" ng-model="newpassword" required ng-minlength="6" />
                                <span style="color:red" ng-show="userManagement.newpassword.$invalid&&userManagement.$submitted">
                                     <span ng-show="userManagement.newpassword.$error.required">密码是必须填写的。</span>
                                     <span ng-show="userManagement.newpassword.$error.minlength">密码的长度不小于6个字符。</span>
                                 </span>
                            </div>
                            <div class="input-group" ng-class="{'has-success ':newpassword==userAdd.password,
                                        'has-error  ':newpassword!=userAdd.password}">
                                <span class="input-group-addon">确认密码</span>
                                <input type="password" name="affirmNewPassword" class="form-control" ng-model="userAdd.password" required />
                                <span style="color:red" ng-show="userManagement.affirmNewPassword.$invalid&&userManagement.$submitted">
                                     <span ng-show="userManagement.affirmNewPassword.$error.required">确认密码是必须填写的。</span>
                                 </span>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">角色</span>
                                <select name="role" class="form-control" ng-model="userAdd.roleId" ng-options="role.id as role.name for role in roles" required>
                                </select>
                                <span style="color:red" ng-show="userManagement.role.$invalid&&userManagement.$submitted">
                                     <span ng-show="userManagement.role.$error.required">角色是必须填写的。</span>
                                 </span>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-primary" data-dismiss="{{userManagement.$invalid?'':'modal'}}"  ng-click="userManagementAdd()">确定
                                </button>
                            </div>
                        </div>
                    </form>




                </div>
            </div>
        </div>
    </div>

    <div class="breadcrumb padding-xs fixed-bottom">
        <div class="container\">
            <span ng-click="onePage()"><a>首页</a></span>
            <span ng-click="user.page<=1?'':befor()" class="{{user.page<=1?'disabled':''"><a class="glyphicon glyphicon-menu-left"></a></span>
            <input type="text"  ng-model="user.page" style="width: 25px;padding-left: 5px;font-size: 16px;margin:0 10px; " />
            <span ng-click="(user.page)<pageNum?after():''" class="{{(user.page)<pageNum?'disabled':''"><a class="glyphicon glyphicon-menu-right"></a></span>
            <span ng-click="lastPage()"><a>尾页</a></span>
            <span>{{'共'+pageNum+'页'}}</span>
        </div>
    </div>



    <!--<script class="ng-scope">-->
        <!--$(function()	{-->
            <!--$('#dataTable').dataTable();-->
        <!--});-->
    <!--</script>-->

        </div>
    </div>
